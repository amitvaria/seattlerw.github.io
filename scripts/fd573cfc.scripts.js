"use strict";angular.module("seattlerwApp",["ngSanitize","google-maps"]),angular.module("seattlerwApp").controller("MainCtrl",["$scope","$http","$filter",function(a,b){function c(a,b){try{return null==a.yelp||0==a.yelp.businesses.length?-1:null==b.yelp||0==b.yelp.businesses.length?1:a.yelp.businesses[0].rating<b.yelp.businesses[0].rating?-1:a.yelp.businesses[0].rating>b.yelp.businesses[0].rating?1:0}catch(c){console.log(a),consoloe.log(b),console.log(c)}}a.currentPage=0,a.pageSize=10,a.setCurrentPage=function(b){a.currentPage=b},a.numberOfPages=function(){return Math.ceil(a.restaurants.length/a.pageSize)},a.refresh=function(){b.get("/data/seattlerw.json").then(function(b){a.restaurants=b.data.sort(c).reverse(),console.log(a.restaurants);for(var d=0;d<a.restaurants.length;d++)try{null!=a.restaurants[d].yelp&&(a.restaurants[d].coordinates={},a.restaurants[d].coordinates.latitude=a.restaurants[d].yelp.region.center.latitude,a.restaurants[d].coordinates.longitude=a.restaurants[d].yelp.region.center.longitude,a.restaurants[d].img_url=a.restaurants[d].yelp.businesses[0].rating_img_url,a.restaurants[d].coordinates.phone=a.restaurants[d].phone,a.restaurants[d].coordinates.phone=a.restaurants[d].address)}catch(e){console.log(e)}})},a.map={center:{latitude:47.6097,longitude:-122.3331},options:{draggable:!0},zoom:12,markers:[]},a.refresh()}]),angular.module("seattlerwApp").filter("startFrom",function(){return function(a,b){return null!=a&&null!=b?a.slice(b):void 0}});